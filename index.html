<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lyrite</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
<link href="https://fonts.googleapis.com/css?family=Raleway|Slabo+27px" rel="stylesheet"><link href="/index.css" rel="stylesheet"></head>
<body>

    <div id="mount"></div>

    <script>
        const q = {};

        function desanitize(path) {
            return path.replace(/~and~/g, "&")
        }

        function checkRedirect() {

            if(!location.search) {
                return;
            }

            location.search.slice(1).split("&").forEach(function(params) {
                const [ key, value ] = params.split("=");

                q[key] = desanitize(value);
            });

            if(q.p === undefined) {
                return;
            }

            history.replaceState(null, null,
                location.pathname.slice(0, -1) + (q.p || "") +
                (q.q ? ("?" + q.q) : "") +
                location.hash
            );
        }

        checkRedirect();

        const ver = {"tag":"v1.4.1","branch":"HEAD","long":"6bc2cc18c6e881e4d2fb86bb80fb30d0483c2a11","short":"6bc2cc1"};
    </script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mithril/1.1.6/mithril.js"></script><script type="text/javascript" src="index.js"></script></body>
</html>
